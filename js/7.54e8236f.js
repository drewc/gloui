(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"2d85":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex"},[s("div",{staticClass:"q-pa-md q-gutter-sm",staticStyle:{width:"100%"}},[s("q-breadcrumbs",[s("q-breadcrumbs-el",{attrs:{icon:"home",to:"/"}}),s("q-breadcrumbs-el",{staticClass:"text-h5",attrs:{label:"Add Contact",icon:"build"}})],1)],1),t.err?s("div",{staticClass:"q-pa-lg text-red"},[t._v("\n    "+t._s(t.err)+"\n  ")]):t._e(),t.newContact?[s("q-card",{staticClass:"my-card",attrs:{flat:"",bordered:""}},[s("q-card-section",{attrs:{horizontal:""}},[s("q-card-section",{staticClass:"q-pt-xs"},[s("div",{staticClass:"text-overline"},[t._v("New Contact Added!")]),s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs"},[t._v(t._s(t.newContact.label))]),s("div",{staticClass:"text-caption"},[t._v("\n            "+t._s(t.newContact.number)+"\n            "),s("q-separator"),t._v("\n\n            You can now look at the rolodex with this contact\n            "),t.newContactAddresses?[t._v(", make a transfer")]:t._e(),t._v(", or\n            create another contact.\n\n            "),t.newContactAddresses.length>0?s("ul",[t._v("\n            Addresses added under this contact:\n              "),t._l(t.newContactAddresses,(function(e){return s("li",{key:e.id},[t._v(" "+t._s(e.label)+"\n                "),s("small",[t._v(" "+t._s(e.number))])])}))],2):t._e()],2)]),s("q-card-section",{staticClass:"col-5 flex flex-center"},[s("q-card",{staticClass:"q-pa-lg"},[t._v("\n            Contact:\n          "),s("div",{staticClass:"text-h5 q-mt-sm q-mb-xs block"},[t._v(t._s(t.newContact.name))]),s("div",{staticClass:"text-caption"},[t._v(" "+t._s(t.newContact.description))])])],1)],1),s("q-separator"),s("q-card-actions",[s("q-btn",{attrs:{flat:"",color:"primary"},on:{click:t.addAnother}},[t._v("\n          Add Another Contact\n        ")]),s("q-btn",{attrs:{flat:"",color:"primary",to:"/AddAddress"}},[t._v("\n          Add an Address\n        ")]),s("q-btn",{attrs:{flat:"",color:"primary",to:"/AssetTransfer"}},[t._v("\n          Transfer some Assets\n        ")])],1)],1)]:[s("div",{staticClass:"row items-center justify-center full-width"},[s("div",{staticClass:"col-6 self-start"},[s("q-card",{staticClass:"q-px-lg q-pb-lg block q-mx-md"},[s("add-contact",{model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}}),t.contact.name?s("q-btn",{attrs:{color:"primary",label:"Save New Contact"},on:{click:t.saveNewContact}}):t._e()],1)],1),t.addressesExist&&t.contact&&t.contact.name?s("div",{staticClass:"col-6"},[s("q-card",{staticClass:"q-px-lg q-pb-lg q-pt-lg block q-mx-md "},[t.contact.name?s("div",[s("q-card-section",[s("small",{staticClass:"text-weight-thin"},[t._v(" Description:")]),s("address-select",{model:{value:t.addresses,callback:function(e){t.addresses=e},expression:"addresses"}})],1)],1):t._e(),s("q-card-section",[s("div",{staticClass:"text-weight-light"},[t._v("Optional but recommended:  Addresses under this name\n             ")])])],1)],1):t._e(),s("div",{staticClass:"col-6"},[t._v("Â  ")])])]],2)},n=[],c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("q-input",{attrs:{label:"Name"},on:{input:t.inputContactEvent},model:{value:t.value.name,callback:function(e){t.$set(t.value,"name",e)},expression:"value.name"}}),s("q-input",{attrs:{label:"Description"},on:{input:t.inputContactEvent},model:{value:t.value.description,callback:function(e){t.$set(t.value,"description",e)},expression:"value.description"}})],1)},d=[],o=(s("e01a"),s("3d99"),s("a4c0")),r=(s("3f4f"),{name:"AddContact",methods:{makeContact(){return{id:this.id,name:this.name,description:this.description}},inputContactEvent(){this.modded=!0,this.$emit("input",this.value)},saveThisContact(){const t=this.makeContact();return null===t.id&&(t.id=randomUUID(),this.id=t.id),this.inputContactEvent(),this.modded=!1,Object(o["saveContact"])(t)}},data(){return{id:null,name:null,description:null,value:{},modded:!1}}}),i=r,l=s("2877"),u=s("27f9"),m=s("eebe"),v=s.n(m),C=Object(l["a"])(i,c,d,!1,null,null,null),p=C.exports;v()(C,"components",{QInput:u["a"]});var h=s("d584"),b=(s("bc3a"),{name:"AddContactPage",components:{AddContact:p,AddressSelect:h["a"]},mounted(){Object(o["countObjectStore"])("address").then((t=>{console.log("adddresses etxts?",t),this.addressesExist=t>0}))},data(){return{addresses:[],contact:{},err:!1,newContact:null,newContactAddresses:null,addressesExist:!1}},methods:{isValid(){return!!this.address.number},saveNewContact(){const t=this.contact,e=this.addresses;return t.id=randomUUID(),console.log("Have Con!",t),Object(o["saveContact"])(t).then((()=>(e.length>0&&e.map((e=>{Object(o["saveAsset"])({owner:t.id,address:e.id})})),this.newContact=t,this.newContactAddresses=e,this.contact={},this.addresses=[],this.err=!1,t)))},addAnother(){this.newContact=null,this.newContactAddresses=null}}}),q=b,_=s("ead5"),w=s("079e"),x=s("f09f"),f=s("a370"),A=s("eb85"),g=s("4b7e"),k=s("9c40"),E=Object(l["a"])(q,a,n,!1,null,null,null);e["default"]=E.exports;v()(E,"components",{QBreadcrumbs:_["a"],QBreadcrumbsEl:w["a"],QCard:x["a"],QCardSection:f["a"],QSeparator:A["a"],QCardActions:g["a"],QBtn:k["a"]})}}]);