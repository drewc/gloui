(function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],t):t(CodeMirror)})((function(t){var e=0,n=1,r=2;t.defineMode("yaml-frontmatter",(function(i,a){var o=t.getMode(i,"yaml"),f=t.getMode(i,a&&a.base||"gfm");function u(t){return t.state==r?f:o}return{startState:function(){return{state:e,inner:t.startState(o)}},copyState:function(e){return{state:e.state,inner:t.copyState(u(e),e.inner)}},token:function(i,a){if(a.state==e)return i.match(/---/,!1)?(a.state=n,o.token(i,a.inner)):(a.state=r,a.inner=t.startState(f),f.token(i,a.inner));if(a.state==n){var u=i.sol()&&i.match(/(---|\.\.\.)/,!1),c=o.token(i,a.inner);return u&&(a.state=r,a.inner=t.startState(f)),c}return f.token(i,a.inner)},innerMode:function(t){return{mode:u(t),state:t.inner}},blankLine:function(t){var e=u(t);if(e.blankLine)return e.blankLine(t.inner)}}}))}));