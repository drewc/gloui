(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../dialog/dialog"],e):e(CodeMirror)})((function(e){"use strict";function o(e,o,r,t,i){e.openDialog?e.openDialog(o,i,{value:t,selectValueOnOpen:!0,bottom:e.options.search.bottom}):i(prompt(r,t))}function r(e){return e.phrase("Jump to line:")+' <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">'+e.phrase("(Use line:column or scroll% syntax)")+"</span>"}function t(e,o){var r=Number(o);return/^[-+]/.test(o)?e.getCursor().line+r:r-1}e.defineOption("search",{bottom:!1}),e.commands.jumpToLine=function(e){var i=e.getCursor();o(e,r(e),e.phrase("Jump to line:"),i.line+1+":"+i.ch,(function(o){var r;if(o)if(r=/^\s*([\+\-]?\d+)\s*\:\s*(\d+)\s*$/.exec(o))e.setCursor(t(e,r[1]),Number(r[2]));else if(r=/^\s*([\+\-]?\d+(\.\d+)?)\%\s*/.exec(o)){var n=Math.round(e.lineCount()*Number(r[1])/100);/^[-+]/.test(r[1])&&(n=i.line+n+1),e.setCursor(n-1,i.ch)}else(r=/^\s*\:?\s*([\+\-]?\d+)\s*/.exec(o))&&e.setCursor(t(e,r[1]),i.ch)}))},e.keyMap["default"]["Alt-G"]="jumpToLine"}));