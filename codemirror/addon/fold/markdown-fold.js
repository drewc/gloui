(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})((function(e){"use strict";e.registerHelper("fold","markdown",(function(n,t){var i=100;function r(t){var i=n.getTokenTypeAt(e.Pos(t,0));return i&&/\bheader\b/.test(i)}function o(e,n,t){var o=n&&n.match(/^#+/);return o&&r(e)?o[0].length:(o=t&&t.match(/^[=\-]+\s*$/),o&&r(e+1)?"="==t[0]?1:2:i)}var f=n.getLine(t.line),l=n.getLine(t.line+1),c=o(t.line,f,l);if(c!==i){var a=n.lastLine(),u=t.line,d=n.getLine(u+2);while(u<a){if(o(u+1,l,d)<=c)break;++u,l=d,d=n.getLine(u+2)}return{from:e.Pos(t.line,f.length),to:e.Pos(u,n.getLine(u).length)}}}))}));